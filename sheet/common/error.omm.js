"use strict";var __extends=this&&this.__extends||function(){var r=function(t,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.ErrorOMM=void 0;var is_1=require("./is"),logger_1=require("./logger"),ErrorOMM=function(r){function t(o,e){var n=r.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n.previous=e,n.message=Array.isArray(o)?o.join("\n"):o,n}return __extends(t,r),t.new=function(r,o){return new t(r,o)},t.withPrev=function(r,o){return new t(r,o)},t.prototype.joinErrors=function(r,t){return(0,is_1.IsNon)(t)?r:(r.push((null==t?void 0:t.message)||""),this.joinErrors(r,null==t?void 0:t.previous))},t.prototype.printStack=function(){var r=this.joinErrors([],this).map(function(r){return"ðŸ’¥ "+r+" \n"}).reverse().join("");return logger_1.instanceLoggerOMM.error("\n"+r+"\n"),this},t.prototype.toString=function(){return logger_1.instanceLoggerOMM.error(this.message),this},t.prototype.throw=function(){throw this},t}(Error);exports.ErrorOMM=ErrorOMM,Object.freeze(ErrorOMM);